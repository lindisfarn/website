---
/**
 * HeroOpening — Act I
 * Hero with clear CTA to Invitation section
 * Mobile optimized: larger logo, better contrast on key details
 */
import { t } from '../i18n/utils';
import { getLocaleFromPath } from '../i18n/config';

// Get locale from prop or URL
const { lang } = Astro.props;
const currentLocale = lang || getLocaleFromPath(Astro.url.pathname);
const isFrench = currentLocale === 'fr';

// Dynamic links based on locale
const invitationLink = isFrench ? '/fr/#invitation' : '/#invitation';
---

<section 
  id="hero" 
  class="relative min-h-screen flex flex-col justify-center items-center text-center px-6 mt-24 overflow-hidden"
>
  <!-- Background -->
  <div class="absolute inset-0 bg-gradient-to-b from-[#F2F0E9] via-[#EDE8DD] to-[#F2F0E9]"></div>
  
  <!-- Content -->
  <div class="relative z-10">
    <!-- Crest - 2X bigger on mobile -->
    <img 
      src="/crest.png" 
      alt="Lindisfarn Crest" 
      class="hero-crest mx-auto mb-6 md:mb-8 w-48 md:w-40 lg:w-48"
    />
    
    <h1 class="hero-title font-['Cormorant_Garamond',serif] text-[#2B2B2B]">
      <span class="hero-word inline-block text-[16vw] md:text-[12vw] lg:text-[10vw] font-light tracking-[0.1em] leading-[0.85]">
        Lindisfarn
      </span>
    </h1>
    
    <!-- Primary value proposition -->
    <h2 class="hero-tagline mt-8 md:mt-12 text-[#2B2B2B] text-2xl md:text-3xl font-['EB_Garamond',serif] max-w-md mx-auto leading-relaxed">
      {t('hero.tagline', currentLocale)}
    </h2>
    
    <p class="hero-location mt-4 text-[#4A5A66] text-lg font-['EB_Garamond',serif]">
      {t('hero.subtitle', currentLocale)}
    </p>
    
    <!-- Key details - with background for better contrast -->
    <div class="flex flex-col items-center gap-4">
      <div class="mt-6 inline-block bg-[#2B2B2B] px-4 py-2 rounded">
        <p class="text-[#F2F0E9] text-xs md:text-sm font-['JetBrains_Mono',monospace] tracking-wide">
          {isFrench ? '25 Membres Fondateurs · Meilleur Prix à Vie' : '25 Founding Members Only · Best Price Forever'}
        </p>
      </div>
    
      <!-- Spots left - dashed box with strikethrough -->
      <div class="mt-4 inline-block border-2 border-dashed border-[#C8A97E] px-6 py-3">
        <p class="text-[#4A5A66] text-sm font-['JetBrains_Mono',monospace] tracking-wide">
          <span class=" line-through"> 25</span> /
          {isFrench ? '4 Places Restantes' : '4 Spots Left'}
        </p>
      </div>
    </div>
    
    <!-- CTA Button -->
    <div class="mt-4">
      <a 
        href={invitationLink}
        class="inline-block px-10 py-4 bg-[#C8A97E] text-[#1a1a1a] font-['JetBrains_Mono',monospace] text-sm tracking-[0.15em] uppercase hover:bg-[#2B2B2B] hover:text-[#F2F0E9] transition-colors duration-300"
      >
        {t('hero.cta', currentLocale)}
      </a>
    </div>
  </div>
</section>
